# Sprint 1：首次启动与输入准备

## 目标
建立桌面端基础体验，确保用户可以完成权限配置、设备校准与全局快捷键绑定，为后续语音转写流程打下稳定基础。

## User Cases

1. **UC1.1 首次启动权限与设备向导**  
   - 描述：首次启动时，引导用户依次完成麦克风、辅助功能/可访问性权限授权，并列出可用麦克风设备供选择。  
   - 验收要点：在 macOS 与 Windows 上触发系统权限弹窗；拒绝后提供重试/系统设置指引；最终至少选择一个可用麦克风并写入配置。  
   - 需求来源：PRD 5.1、架构 6.4。

2. **UC1.2 设备测试与降噪校准**  
   - 描述：用户在向导中执行 5 秒麦克风测试，应用计算推荐的降噪/灵敏度阈值并允许手动调整。  
   - 验收要点：展示实时波形与信噪比；生成推荐阈值并支持手动滑杆调整；保存成功后可回放测试片段验证音质。  
   - 需求来源：PRD 5.1、8.4；架构 5.2、6.4。

3. **UC1.3 Fn 热键绑定与兼容检测**  
   - 描述：检测当前键盘是否支持 Fn 捕获，完成热键监听与冲突检测，并在失败时提供备用组合。  
  - 验收要点：400ms 内响应 Fn 按键测试，并记录原生驱动回调耗时/设备来源；若检测不到 Fn，则提示自定义组合并记录原因；保存热键并在托盘菜单显示。
   - 需求来源：PRD 5.1、8.1；架构 5.2。

4. **UC1.4 会话预热反馈与浮层初始化**  
  - 描述：用户按下 Fn 后 400ms 内弹出语音浮层并播放提示音，进入 `Idle→PreRoll` 状态过渡。
   - 验收要点：浮层显示“准备中”文案和预热波形动画；提示音成功播放；状态写入会话状态机日志。  
   - 需求来源：PRD 5.2、8.1；架构 5.1、5.2、6.1。
